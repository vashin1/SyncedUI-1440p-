Last Edit: R17

In R17, KLHThreatMeter now has a decent system to describe an arbitrary NPC ability that modifies your threat. We just need experienced players to name these abilities and describe their effects. We're looking for 3 things:

1) 	Mob abilities that affect the whole raid group. e.g. Shazzrah teleport --> resets everyone's threat.
2)	Mob abilities that affect the targeted player. e.g. Ouro's Sand Blast wipes the threat of the target.
3)	Mob Yells or Emotes that signal a change of phase. e.g. Nefarion yells "BURN! You wretches! BURN!" at the beginning of phase 2, which is a convenient time to reset the threat meter and set him to the master target.

In particular i am interested in trash mobs and bosses from AQ40 and Naxxramus. Currently we have Twin Emps (teleport + proximity aggro), Ouro (sand blast) and Noth (Blink), but that's it.

Any input at http://www.curse-gaming.com/en/wow/addons-3488-1-klhthreatmeter.html would be greatly appreciated.


_______________________________________________________________

Kenco's Guide To Working Out Threat Values For Player Abilities


You need:
1) 	Player 1, of the class who casts the random ability
2) 	Player 2, of a class who can generate threat in very small increments. The smaller the amount of threat he can create in one attack / heal / ability, the more accurate things will be. Rogues, Warriors, Hunters are bad, they can't do this at all. Classes with heal over times are excellent; the lowest level ones have very small ticks. Next best is mages and warlocks, because with no melee weapon, their autoattacks are at most 4 damage, and they probably won't have a high unarmed skill. Paladins are good too, just tell them to pretend they are DPSing the mob :D
3) 	A mob to experiment on. It has to have enough HP to survive the ability that is cast on it, plus the potential damage done for player 2 to gain aggro. You also don't want it to do much damage, because it will be beating on player one for a while when player 2 is gaining threat in small quantities. I found the mobs in Wailing caverns good; as level 18 or so Elites they have enough hit points while doing low damage. Also they are in an instance, so other people can't interrupt you. Other candidates would be random level 30-40 mobs, preferably in the wilderness somewhere.


	General strategy:

1) Player 1 does the unknown ability, then waits for any dot effects to wear off, and records the total damage. Mob will probably start beating on Player 1.
2) Player 2 starts doing his small heals or wimpy autoattacks. 
3) When the mob aggros player 2, he records the damage / healing done when he gained aggro, and also the damage / healing done immediately before he gained aggro.

To make (3) easier, there is an undocumented feature in KLHThreatMeter, where if you run the command

	/script klhtest()

The mod will automatically send a message to party / raid chat "I gained aggro on <mob name>, my threat is <x>, previously it was <y> then <z>." whenever you gain aggro on your current target. Needless to say, you don't want this to spam your raid after you have finished testing, so make sure you run the same command again after the testing is finished to deactivate it.

Also, if Player 2 is using healing spells, make sure he stand out of melee range of the mob; this will make it more accurate, since he will gain aggro when his threat exceeds 130% of Player 1's, as opposed to 110% when in melee range.

After you have some data, a small amount of number crunching is required. Alternatively, just send all the relevant numbers to me, and i can work it out. As a random unrealistic example, suppose

Player 1 casts searing pain, for 100 damage.
Player 2 heals Player 1, no aggro at 185 threat, but aggro at 189 threat. Then,

Player 2 threat is from 185 to 189.

Player 1 threat is Player 2 threat / 1.3, since player 1 was at range, i.e.
Player 1 threat is from 142.3 to 145.4

To get searing pain's actual threat, we need to remove the threat done by the damage, i.e.
searing pain threat is player 2 threat - 100
= 42.3 to 45.4 threat. And there you have it!


	Some Random Tips

--> For the first run, make sure your experiment is working correctly by testing a known value. e.g. a shadowbolt will cause only as much threat as its damage, so check that you get around 0 for its non-damage threat using the method described above.

--> Make sure Player 1 uses the maximum rank of the spell, since each rank will usually have a different innate threat value. If Player 2 is healing, tell him to remove all his +healing gear to make each heal as small as possible, for greater accuracy. Also, remove any sets pieces that could cause procs for extra threat (e.g. Earthfury 5/8). 

--> Since the total threat generated by player 1 is pretty big, it will take too long to cast level 1 rejuvenation on him all day long. First heal him with medium sized heals, or use level 1 frost bolts, to get a rough target range. Then on the second run, use the medium attacks until you are just about to gain aggro from the rough value, then switch to the micro heals / wimpy melee attacks.

--> Run the experiment a few times to check your values are consistent. This will also decrease your error range significantly. Continuing the last example, if in a second experiment we found searing pain was between  44.1 and 46.8, we can compress the range to 44.1 - 45.4.

--> Patience! This is boring work, but you'll be rewarded! 